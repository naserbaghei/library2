library2
========

#include &lt;iostream> #include &lt;cstring> using namespace std;  const int h=4; const int size=20; class book { 	public: 	friend class member; 	int shabak; 	string onvan; 	string mozo; 	string nevisande; 	bool amanat; 	bool r; 	int tba;//tedade bari ke amanat rafte 	book() 	{ 		amanat = r=false; 		tba=0; 		 	} 	void add() 	{ 		cout&lt;&lt;"onvan ra vared konid"&lt;&lt;endl; 		cin>>onvan; 		cout&lt;&lt;"nevisande ra vared konid"&lt;&lt;endl; 		cin>>nevisande; 		cout&lt;&lt;"shabak ra vared konid"&lt;&lt;endl; 		cin>>shabak; 		cout&lt;&lt;"mozo ra vared konid"&lt;&lt;endl; 		cin>>mozo; 	} 	void print() 	{	 		cout&lt;&lt;onvan&lt;&lt;"	"&lt;&lt;nevisande&lt;&lt;"	"&lt;&lt;shabak&lt;&lt;"	"&lt;&lt;mozo&lt;&lt;"
"; 	} }; class member { 	public: 	string esm,famil,npedar; 	int id,tt; 	int lketab[h]; 	int lketabr[h]; 	int tk;//tedade ketab haee ke ye fard dare; 	int tkr;//tedade ketab haee ke ye fard reserve karde 	int tba;//tedae bari ke ketab amanat gerefte 	member () 	{ 	       tkr=0; 		tk=0; 		tba=0; 	} 	void add() 	{ 		cout &lt;&lt;"Enter id "&lt;&lt;endl; 		cin>>id; 		cout &lt;&lt;"esm ra vared konid"&lt;&lt;endl; 		cin>>esm; 		cout &lt;&lt;"family ra vared konid"&lt;&lt;endl; 		cin>>famil; 		cout &lt;&lt;"name pedar ra vared konid"&lt;&lt;endl; 		cin>>npedar; 		cout &lt;&lt;"tarikh tavalod ra vared konid"&lt;&lt;endl; 		cin>>tt; 	} 	void print() 	{	 		cout&lt;&lt;id&lt;&lt;"		"&lt;&lt;esm&lt;&lt;"		"&lt;&lt;famil&lt;&lt;"		"&lt;&lt;npedar&lt;&lt;"		"&lt;&lt;tt&lt;&lt;"
"; 	} 	 };  int main() { 	book b[size]; 	member m[size]; 	int x; 	int bc=0;//tedade ketabA 	int mc=0;//tedade azA 	do{ 	cout &lt;&lt; "1) Add a Book."&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "2) Search a book by title ."&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "3) delete a book by title"&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "4) edit a book by title "&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "5) Add member."&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "6) delete a member by id"&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "7) edit a member by id"&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "8) get a book "&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "9) return a book "&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "10) reserve book "&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "11) por makhatab tarin ketab"&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "12) faAll tarin ozv "&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "13) list ketabhaye amanati"&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "14) list ketabhaye reservi"&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "15) list ketabhaye amanaT yek ozv"&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "16) list ketabhaye mojood dar ketab khane"&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt; "17) list azAee ketab khane"&lt;&lt;endl; 	cout&lt;&lt;""&lt;&lt;endl; 	cout &lt;&lt;"Enter (1-17) or 0 to exit "&lt;&lt;endl; 	cin>>x; 	 	switch(x) 	{ 		case 1: 		{ 			b[bc].add(); 			bc++; 			break; 		} 		case 2: 		{ 			bool be=false; 			//jostojo bar asase esm ketab 			string a; 			cout &lt;&lt;"Enter title for search "&lt;&lt;endl; 			cin>>a; 			cout&lt;&lt;"title	nevisande	shabak	mozo
"; 			int i; 			for (i=0;i&lt;size and !be;i++) 			{ 				if (b[i].onvan==a) 				{b[i].print();be=true;} 			} 			if (be==false) 			cout&lt;&lt;"ketab nist"&lt;&lt;endl; 			break; 		} 		case 3: 		{ 			bool be=false; 			//hazve ketab 			string a; 			cout &lt;&lt;"Enter title for delete "&lt;&lt;endl; 			cin>>a; 			int i; 			for (i=0;i&lt;size and !be;i++) 			{ 				if (b[i].onvan==a) 				{ 					be=true; 					for (int j=i;j&lt;size;j++) 						b[i]=b[i+1]; 				} 			} 			bc--; 			if (be==false) 			{cout&lt;&lt;"ketab nist"&lt;&lt;endl;bc++;} 				break; 		} 		case 4: 		{ 			bool be=false; 			//virayesh bar asase onavan 			string a; 			cout &lt;&lt;"Enter title for edit "&lt;&lt;endl; 			cin>>a; 			int i; 			for ( i=0;i&lt;size and !be;i++) 			{ 				if (b[i].onvan==a) 				{ 					cout&lt;&lt;"etelate virayesh shode: 
"; 					b[i].add(); 					be=true; 				} 			} 			 			if (be==false) 				cout&lt;&lt;"ketab nist"&lt;&lt;endl; 			break; 		} 		case 5: 		{ 			//add ozve 			m[mc].add(); 			mc++; 			break; 		} 		case 6: 		{ 			//hazve aza bara asase id 			int id; 			cout &lt;&lt;"Enter id for delete "&lt;&lt;endl; 			cin>>id; 			int i; 			bool be=false; 			for (i=0;i&lt;size and !be ;i++) 			{ 				if (m[i].id==id) 				{ 					for (int j=i;j&lt;size;j++) 						m[i]=m[i+1]; 					be=true; 				} 				 			} 			mc--; 			if (be==false) 			{cout&lt;&lt;"ketab nist"&lt;&lt;endl;mc++;} 			break; 		} 		case 7: 		{ 			//virayesh bar asase esm 			int id; 			bool be=false; 			cout &lt;&lt;"Enter id for edit"&lt;&lt;endl; 			cin>>id; 			int i; 			for ( i=0;i&lt;size and !be;i++) 			{ 				if (m[i].id==id) 				{ 					cout&lt;&lt;"etelate edite shode:
"; 					m[i].add(); 					be=true; 				} 			} 			if (be==false) 			  cout&lt;&lt;"azv vojod nadard"&lt;&lt;endl; 			break; 		} 		case 8: 		{ 			//gereftan ketab 			int id; 			cout &lt;&lt;"Enter id for get book"&lt;&lt;endl; 			cin>>id; 			string onvan; 			cout &lt;&lt;"Enter title book for get book"&lt;&lt;endl; 			cin>>onvan; 			for(int i=0;i&lt;mc;i++) 				if(m[i].id == id ) 				{ 					m[i].tba++;//tedad bari ke ketab amanat migire ro yeki + kon 					for(int j=0;j&lt;size;j++) 					if (b[j].onvan==onvan ) 					{ 						if (b[j].amanat==true) 						cout&lt;&lt;"ketab biroone"; 						else 						{ 						m[i].lketab[m[i].tk]=b[j].shabak; 						m[i].tk++; 						b[j].tba++; 						b[j].amanat=true; 						} 					} 					 				} 			break; 		} 		case 9: 		{ 			//bazgashte ketab 			int id; 			cout &lt;&lt;"Enter id"&lt;&lt;endl; 			cin>>id; 			string onvan; 			cout &lt;&lt;"Enter title ketabe bazgashti"&lt;&lt;endl; 			cin>>onvan; 			bool be=false;  			for(int i=0;i&lt;size and  !be;i++) 				if(m[i].id == id ) 				{ 					for(int j=0;j&lt;size and !be;j++) 					if (b[j].onvan==onvan ) 					{ 						b[j].amanat=false; 						//to liste ketab haye ye fard josto jo kon va ketab ba in onvan ro hazv kon 						 						for (int k=0;k&lt;m[i].tk and !be;k++) 						if (m[i].lketab[k]==b[j].shabak) 						{ 							//ketab ro hazzv kon 							for(int f=k;k&lt;m[i].tk and !be;f++) 								m[i].lketab[f]=m[i].lketab[f+1]; 							m[i].tk--; 							be =true; 						} 					} 					 				} 				 			break; 			 		} 		case 10: 		{ 			//reserve ketab 			int id; 			cout &lt;&lt;"Enter id for reseve "&lt;&lt;endl; 			cin>>id; 			string onvan; 			cout &lt;&lt;"Enter title ketab for reseve "&lt;&lt;endl; 			cin>>onvan; 			for(int i=0;i&lt;mc;i++) 				if(m[i].id == id ) 				{ 					for(int j=0;j&lt;size;j++) 					if (b[j].onvan==onvan ) 					{ 						m[i].lketabr[m[i].tkr]=b[j].shabak; 						m[i].tkr++; 						b[j].r=true; 					} 					 				} 			break; 		} 		case 11: 		{ 			//por mokhatab tarin ketab 			int max1=0; 			for(int i=0;i&lt;size;i++) 				max1=max(max1,b[i].tba); 			for(int i=0;i&lt;size;i++) 				if (b[i].tba==max1) 				cout&lt;&lt;"por mokhatab tarin ketab :   "&lt;&lt;b[i].onvan&lt;&lt;endl; 			break; 		} 		case 12: 		{ 			//faAltarin aza 			int max1=0; 			for(int i=0;i&lt;size;i++) 				max1=max(max1,m[i].tba); 			for(int i=0;i&lt;size;i++) 				if (m[i].tba==max1) 				cout&lt;&lt;"faAltarin aza :"&lt;&lt;m[i].esm&lt;&lt;"	"&lt;&lt;m[i].famil&lt;&lt;endl; 			break; 		} 		case 13: 		{          //list ketabe amanati 			cout&lt;&lt;"title	nevisande	shabak	mozo
"; 			for(int i=0;i&lt;bc;i++) 				if (b[i].amanat==true) 					b[i].print(); 			break; 		} 		case 14: 		{       //list ketabe reservi 			cout&lt;&lt;"title	nevisande	shabak	mozo
"; 			for(int i=0;i&lt;bc;i++) 				if (b[i].r==true) 					b[i].print(); 			break; 		} 		case 15: 		{        //liste ketab haye amanaT aza 			int id; 			cout&lt;&lt;"shomare ozviat ? :"; 			cin>>id; 			cout&lt;&lt;"liste ketab haye amanaT farde morede nazar:"&lt;&lt;endl; 			cout&lt;&lt;"title	nevisande	shabak	mozo
"; 			bool be = false; 			for(int i=0;i&lt;size;i++) 				if (m[i].id ==id) 				{ 					for(int j=0;j&lt;m[i].tk and  !be;j++) 					for (int f=0;f&lt;size and  !be;f++) 						if (m[i].lketab[j]==b[f].shabak) 						{b[f].print();be=true;} 				} 			break; 		} 		case 16: 		{       //list ketabe  mojod 			cout&lt;&lt;"list ketabhaye mojood dar ketab khane"&lt;&lt;endl; 			cout&lt;&lt;"title	nevisande	shabak	mozo
"; 			for(int i=0;i&lt;bc;i++) 				if (b[i].amanat==false) 					b[i].print(); 			break; 		} 		case 17: 		{       // list aza 			cout &lt;&lt;"id	esm	famili	namepedar	arikh tavalod
"; 			for(int i=0;i&lt;mc;i++) 					m[i].print(); 			 			break; 		} 		 	} 	}while(x!=0); 	return 0; }
